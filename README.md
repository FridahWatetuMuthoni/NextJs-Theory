# Next.js Notes

## Getting Started

Creating a new Next.js Project

```bash
npx create-next-app@latest .
```

First, run the development server:

```bash
npm run dev
```

## Revalidating Content and fetching data every one hour

- On demand content revalidation
- Automatic revalidation of pages when data changes
- Automatic revalidation of pages when data changes after one hour

Solution One:

```tsx
export const revalidate = 3600;

export default async function Page() {
  const data = await fetch("https://api.vercel.app/blog");
  const posts = await data.json();

  return (
    <main>
      <h1>Blog Posts</h1>
      <ul>
        {posts.map((post) => (
          <li key={post.id}>{post.title}</li>
        ))}
      </ul>
    </main>
  );
}
```

Solution Two:

```tsx
export default async function Page() {
  const data = await fetch("https://api.vercel.app/blog", {
    next: { revalidate: 3600 },
  });
  const posts = await data.json();

  return (
    <main>
      <h1>Blog Posts</h1>
      <ul>
        {posts.map((post) => (
          <li key={post.id}>{post.title}</li>
        ))}
      </ul>
    </main>
  );
}
```

## SEO Optimization

To optimize SEO for our pages, we can add the following metadata:

- Static SEO Metadata

```tsx
export const metadata = {
  title: "Home | Next.js",
  description: "Generated by create next app",
  //website thumbnail
  openGraph: {
    ...openGraphImage,
    title: "Home",
  },
};
```

- Dynamic Metadata

```tsx
export async function generateMetaData({
  params,
}: {
  params: Promise<{ id: string }>;
}) {
  const { id } = React.use(params);
  const resource = await getResourceById({ id });
  const title = resource.title + " | Next.js";
  const seoDescription = " Generated by create next app";

  return {
    title,
    description: seoDescription,
    other: {
      "og:title": title,
      "og:description": seoDescription,
      "og.image": resourse.image,
      "twitter:title": title,
      "twitter:image": resource.image,
      "twitter:description": seoDescription,
    },
  };
}
```

- Files Metadata
  -app
  -favicon.ico
  -icon.svg
  -opengraph-image.png
  -robots.txt
  -sitemap.xml
  -manifest.json
  -twitter-image.png
